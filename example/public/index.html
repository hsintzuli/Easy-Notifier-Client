<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Easy Notify</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="/img/favicon.ico" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.4.10/sweetalert2.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.4/toastr.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="/css/index.css" />
    <link rel="stylesheet" href="/vendor/css/adminlte.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/atom-one-dark.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>
    <link href="/vendor/css/home.css" rel="stylesheet" /></head
  ><style>
    code {
    text-align: left;
    }

      .hljs
    {
    font-size:1rem !important;
    }
    .navbar-home {
      background-color: rgb(252, 250, 225, 0.4);
      border-bottom-left-radius: 30px;
      border-bottom-right-radius: 30px;
    }
    .navbar-home .nav-link {
      color: rgba(0, 0, 0, 0.5);
      font-weight: bold;
    }
    .navbar-home .nav-link:hover {
      color: #ffbf00;
    }
    .logo {
      max-width: 80%;
    }

    .navbar .main-log {
      width:120px;
    }

    .nav-link .logo {
      width:50px;
      max-width: 60%;
      max-height: 90%;
      margin: auto;
    }
    body {
      font-family: 'Source Sans Pro', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji',
        'Segoe UI Emoji', 'Segoe UI Symbol';
    }
    .custom-btn {
      border-color: #e5aa4d;
      background: #f2f2f2;
      color: #26120c;
      font-weight: bold;
      border-radius: 30px;
      padding: 12px 20px;
      line-height: normal;
      overflow: hidden;
      transition: all 0.4s ease;
      font-size: 1.1rem;
      text-transform: uppercase;
      width: 100%;
    }
    .custom-btn:hover {
      color: #ffbf00;
    }
    .custom-btn.custom-btn-bg:hover {
      background: #ffbf00;
      color: #ffffff !important;
    }
    .login, .get-btn {
      background: #ebc68b;
      color: #ffffff !important;
      margin-left: 30px;
      border-radius: 10px;
    }

    .login {
      padding: 0px 5px;
    }

    .get-btn:hover,
    .get-btn:focus:hover,
    .navbar .login:hover,
    .navbar .login:focus:hover,
    .login .nav-link:hover {
      background: #ffbf00;
      color: #ffffff !important;
    }

    .navbar-expand .navbar-nav .nav-link {
      font-size: 1.1rem;
    }

    p a {
    color: #5a2f27;
    /* text-decoration: none; */
    }

    p a:hover {
    color: #F2AC57;
    }
  </style>
  <body class="d-flex flex-column">
    <main class="flex-shrink-0">
      <!-- Navigation-->
      <nav class="navbar navbar-expand navbar bg navbar-home shadow-sm mx-2 pb-1">
        <div class="container px-5">
          <a class="navbar-brand col-3" href="https://easynotify.site"><img class="img-fluid logo" src="/img/easy-notify-h.png" alt="logo" /></a
          >
          <div class="col-9 collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto mb-3 mb-lg-0 d-lg-flex align-items-center">
              <li class="nav-item ">
                <a class="nav-link  d-flex justify-content-center align-self-center m-0  p-0" href="https://github.com/hsintzuli/EasyNotify-Client"
                  ><img class="img-fluid logo" src="/img/GitHub-Mark-64px.png" alt="logo"
                /></a>
              </li>
              <li class="nav-item ">
                <a class="nav-link d-flex justify-content-center align-self-center m-0 p-0" href="https://www.npmjs.com/package/easy-notify-client"
                ><img class="img-fluid logo" src="/img/npm-icon.png" alt="logo"
              /></a>
              </li>
              <li class="nav-item login"><a class="nav-link m-0 " href="https://easynotify.site/register">Get Start</a></li>
            </ul>
          </div>
        </div>
      </nav>
    </main>
    <!-- Header-->
    <header class="mx-2 mt-lg-3 mb-1" id="header">
      <div class="container px-5 py-5 h-100 my-xl-5">
        <div class="row gx-5 align-items-center justify-content-center ml-0">
          <div class="col-xl-7 col-xxl-6 m-0">
            <div class="w-100 text-bg fw-bolder text-black my-5 text-center text-xl-start">
              <h1>Easy Notify Playground</h1>
              <p class="lead fw-normal mb-4">
                Simply subscribe to your application by the channel ID and public key. Click the subscribe button and send a notification to this channel!
              </p>
            </div>
          </div>
          <div class="col-xl-7 col-xxl-6 d-xl-block text-center">
            <form id="request" class="main_form px-5 py-5">
              <div class="row align-items-center justify-content-center">
                <div class="col-md-10">
                  <input id="channel-id" class="contactus" placeholder="Channel ID" type="type" name="Name" />
                </div>
                <div class="col-md-10">
                  <input id="public-key" class="contactus" placeholder="Public Key" type="type" name="Email" />
                </div>
                <div class="col-sm-8 col-lg-5 mb-2">
                  <button id="unsubscribe" class="custom-btn unsubscribe-btn">UnSubscribe</button>
                </div>
                <div class="col-sm-8 col-lg-5 mb-2">
                  <button id="subscribe" class="custom-btn subscribe-btn">Subscribe</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </header>
    <!-- Features section-->
    <!-- Main content -->
    <main>
      <div class="b-example-divider"></div>
    
      <div class="container my-5">
        <div class="row p-3 pb-0 pe-lg-0 pt-lg-5 align-items-center rounded-3 border shadow">
          <div class="col-lg-7 p-3 p-lg-5 pt-lg-3">
            <h1 class="display-5 fw-bold lh-1">Example notification setting for this playground</h1>
            <p class="fs-5">Quickly experience how does Web Push Notification look like. Try to send a notification through API and set the config as the example on the right.</p>
            <div class="d-grid gap-2 d-md-flex justify-content-md-start mb-4 mb-lg-3">
              <!-- <button type="link" href="https://github.com/hsintzuli/EasyNotify-Client/blob/main/example/public/js/index.js" class="btn get-btn btn-lg px-4 mt-5 me-md-2 fw-bold">Get Source Code</button> -->
              <a type="button" href="https://github.com/hsintzuli/EasyNotify-Client/blob/main/example/public/js/index.js" class="btn get-btn btn-lg px-4 mt-5 me-md-2 fw-bold">Get Source Code</a>
            </div>
          </div>
          <div class="col-lg-4  p-0">
            <pre><code class="has-line-data" class="language-json">
/* use sweetalert in 'config'*/
{
  "type":"sweetalert",
  "status":"success"
}
/* use toastr in 'config'*/
{
  "type":"toastr",
  "status":"success"
}
            </code></pre>
          </div>
        </div>
      </div>

      
      <div class="b-example-divider"></div>
      <div class="container col-xxl-10 px-3 py-5 my-5 text-center">
          <h1 class="display-4 fw-bold">Basic Usage</h1>
          <div class="col-lg-9 mx-auto ">
            <div class="container px-5"  loading="lazy">
              <p class="fs-5 text-left ml-3 mb-0">You can include notifier.min.js as script file. </p>
  <pre><code class="language-html">// Access notifier through EasyNotify.notifier
  &lt;script src="/easy-notify-client/dist/notifier.min.js"&gt;&lt;/script&gt;
  &lt;script&gt;
    await EasyNotify.notifier.init() 
                  
    // or
    const { notifier } = window.EasyNotify
    await notifier.init()
  &lt;/script&gt;
  </code></pre>
              <p class="fs-5 text-left ml-3 mb-0 mt-3">Or include easy-notify-client in your project using Webpack or other bundlers.</p>
              <pre><code class="lang-javascript">import { notifier } from "easy-notify-client";  
  await notifier.init() </code></pre>
            </div>
        </div>
      </div>

      <div class="b-example-divider"></div>
      <div class="container col-xxl-10 px-3 py-5">
        <div class="row flex-lg-row-reverse align-items-center g-5 py-5">
          <div class="col-11 col-sm-9 col-lg-7">
<pre><code class="language-javascript">// (example) notify-sw.js:
const channel = new BroadcastChannel('Notify-sw');  
    
// Register event listener for the 'push' event.
self.addEventListener('push', async function (event) {
  const data = event.data ? event.data.json() : 'no payload';
  if (data.title === 'auth') {
    return channel.postMessage(data);
  }
  channel.postMessage(data);
  // Keep the service worker alive until the notification is created.
  event.waitUntil(
    self.registration.showNotification(data.title, {
      body: data.body,
      icon: data.icon,
    })
  );
});
</code></pre>
</div>
<div class="col-lg-5">
<h1 class="display-5 fw-bold lh-1 mb-5">Setting the Service Worker of your website</h1>
<p class="fs-5">Web-Push requires a service worker script to register the service worker of your website. You can download the script from <a href="https://github.com/hsintzuli/EasyNotify-Client/blob/client_module/example/public/notify-sw.js">notify-sw.js</a> or refer to <a href="https://developers.google.com/web/ilt/pwa/introduction-to-push-notifications#serviceworkerjs_3">service worker</a> to customize your service worker.</p>
</div>
</div>
</div>   
      <div class="b-example-divider"></div>
    
      <div class="container col-xxl-10 px-3 py-5">
        <div class="row flex-lg-row-reverse align-items-center g-5 py-5">
          <div class="col-11 col-sm-9 col-lg-7">
<pre><code class="language-javascript">
// Basic Example
$(document).ready(async function () {
  // Initialize notifier
  await notifier.init('/notify-sw.js', 'Notify-sw');
  EasyNotify.notifier.setPushHandler((data) => {
    console.log('Handler receive data', data);
  });         

// Subcribe to your channel
$('.subscribe-btn').click(async function(event) {
    event.preventDefault();

    // return true if subscribe successfully, otherwise, return false;
    const subscribeSuccess = await EasyNotify.notifier.subscribe(channelId, publicKey);
});
            
// Unsubcribe to your channel
$('#unsubscribe').click(async function (event) {
  event.preventDefault();

  // return true if unsubscribe successfully, otherwise, return false;
  const unsubscribeSuccess = await EasyNotify.notifier.unsubscribe();
});
</code></pre>
</div>
<div class="col-lg-5">
<h1 class="display-5 fw-bold lh-1 mb-5">Set the push handler and subscribe to your channel!</h1>
<p class="fs-5">The overall workflow of the notifier is pretty simple. Initialize with required service worker script, set handler for received notification, and then subscribe.</p>
</div>
</div>
</div>
    
  <div class="b-example-divider"></div>
    
      <div class="container col-xl-10 col-xxl-10 px-3 py-5">
        <div class="row align-items-center g-lg-5 py-5">
          <div class="col-lg-6 text-center text-lg-start">
            <h1 class="display-4 fw-bold lh-1 mb-3">Customize your notification handler</h1>
            <p class="col-lg-10 fs-5 mb-0">Customize the notification through other useful tools, like <a href="https://sweetalert2.github.io/">SweetAlert2</a> or <a href="https://github.com/CodeSeven/toastr">toastr</a>.</p>
<pre><code  class="language-js">notifier.setPushHandler((data) => {
  console.log('Test handler receive data', data);
  try {
    const { type } = JSON.parse(data.config);
    const handler = handlers[type];
    handler(data);
  } catch (error) {
    console.log('No config, just alert the notification')
    alert(data.title + '\n' + data.body)
  }
});
</code></pre>
          </div>
          <div class="col-md-10 mx-auto col-lg-6">
            <div class="p-4">
              <pre class="px-0 mx-0"><code class="language-js">             
const sweetHandler = (data) => {
  let { status } = JSON.parse(data.config);
  Swal.fire(data.title, data.body, status);
};
const toastrType = {
  success: toastr.success,
  warning: toastr.warning,
  error: toastr.error,
};
const toastrHandler = (data) => {
  const { status } = JSON.parse(data.config);
  const handler = toastrType[status] || alert;
  handler(data.title, data.body);
};
const handlers = {
  sweetalert: sweetHandler,
  toastr: toastrHandler,
};
              </code></pre>
            </div>
          </div>
        </div>
      </div> 
    </main>
  </div>
  <!-- /.content-wrapper -->
    <!-- Footer-->
    <footer class="bg-dark py-3 mt-auto">
      <div class="container px-5">
        <div class="row align-items-center justify-content-between flex-column flex-sm-row">
          <div class="col-auto"><div class="small m-0 text-white">Copyright © Your Website 2022</div></div>
          <div class="col-auto">
            <a class="link-light small" href="#!">Privacy</a><span class="text-white mx-1">·</span><a class="link-light small" href="#!">Terms</a
            ><span class="text-white mx-1">·</span><a class="link-light small" href="#!">Contact</a>
          </div>
        </div>
      </div>
    </footer>
  </body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.4.10/sweetalert2.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.4/toastr.min.js"></script>
  <script src="/js/dist/notifier.min.js"></script>
  <script type="module" src="/js/index.js"></script>
</html>
